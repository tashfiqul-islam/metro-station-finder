(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(151)}])},151:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var s=t(5893),r=t(2235),l=t.n(r),n=t(7294),i=t(5152),o=t.n(i),d=t(9528);let c=[{name:"Uttara North",lat:23.869076247909604,lng:90.36749888965423},{name:"Uttara Center",lat:23.859883689540986,lng:90.36556301505676},{name:"Uttara South",lat:23.846047963992312,lng:90.36348791360157},{name:"Pallabi",lat:23.826621696895067,lng:90.36462316050813},{name:"Mirpur 11",lat:23.81948730985004,lng:90.36569306050733},{name:"Mirpur 10",lat:23.808676721197994,lng:90.36828918315457},{name:"Kazipara",lat:23.79997213706531,lng:90.37178936075442},{name:"Shewrapara",lat:23.79073133067589,lng:90.37573063390592},{name:"Agaragaon",lat:23.778528454849155,lng:90.38010541953432},{name:"Bijoy Sharani",lat:23.76767563448402,lng:90.38309390581901},{name:"Farmagate",lat:23.75934419275316,lng:90.38721707002716},{name:"Kawran Bazar",lat:23.751352896226248,lng:90.39297658085276},{name:"Shahbagh",lat:23.739700935527747,lng:90.39608626094417},{name:"Dhaka University",lat:23.73202420199298,lng:90.39661487611298},{name:"Bangladesh Secretariat",lat:23.730111326763332,lng:90.40669330669668},{name:"Motijheel",lat:23.728141228055236,lng:90.41934126299398}],m={southwest:{lat:23.697868,lng:90.330367},northeast:{lat:23.88165,lng:90.488572}};var x=e=>{let{onSearch:a}=e,[t,r]=(0,n.useState)(""),l=(0,n.useRef)(null),[i,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{i||(0,d.J)("AIzaSyBudeCn3Zk00A18wJIAlPEXiIDlmJYFzH0").then(()=>o(!0)).catch(e=>console.error("Error loading Google Maps:",e))},[i]),(0,n.useEffect)(()=>{if(!i||!l.current)return;let e=new google.maps.LatLngBounds(new google.maps.LatLng(m.southwest.lat,m.southwest.lng),new google.maps.LatLng(m.northeast.lat,m.northeast.lng)),t=new google.maps.places.Autocomplete(l.current,{bounds:e,componentRestrictions:{country:"BD"}});t.addListener("place_changed",()=>{var e;let s=t.getPlace();(null===(e=s.geometry)||void 0===e?void 0:e.location)&&(r(s.formatted_address||""),a(s.geometry.location.toJSON()))})},[i,a]),(0,s.jsxs)("div",{className:"flex justify-center w-full",children:[(0,s.jsx)("form",{onSubmit:e=>{var t;e.preventDefault();let s=l.current&&new google.maps.places.Autocomplete(l.current).getPlace();s&&(null===(t=s.geometry)||void 0===t?void 0:t.location)&&(r(s.formatted_address||""),a(s.geometry.location.toJSON()))},className:"w-full",children:(0,s.jsxs)("div",{className:"flex items-center w-full search-bar-container",style:{padding:"0 15px"},children:[(0,s.jsx)("div",{className:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-500 bg-gray-100 border border-gray-300 rounded-s-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600",children:(0,s.jsx)("span",{children:"BD"})}),(0,s.jsxs)("div",{className:"relative flex-grow",children:[(0,s.jsx)("input",{ref:l,id:"location-search",type:"search",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-e-lg border-s-gray-50 border-s-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-s-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Enter a city or address in Dhaka city","aria-label":"Location",value:t,onChange:e=>r(e.target.value),required:!0}),(0,s.jsxs)("button",{type:"submit",className:"absolute top-0 end-0 h-full p-2.5 text-sm font-medium text-white bg-blue-700 rounded-e-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[(0,s.jsx)("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),(0,s.jsx)("span",{className:"sr-only",children:"Search"})]})]})]})}),(0,s.jsx)("style",{children:"\n@media (max-width: 767px) {\n  .search-bar-container {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n}\n"})]})},u=t(5675),h=t.n(u),g=e=>{let{metroStation:a,distance:t,unit:r}=e;if(!a||null===t)return null;let l="km"===r?t/1e3:t/1609.34;return(0,s.jsx)("div",{className:"mt-5 px-4 md:px-5",children:(0,s.jsx)("div",{className:"bg-white/30 dark:bg-slate-800 rounded-lg py-3 ring-1 ring-slate-900/5 shadow-xl backdrop-blur-sm w-full max-w-lg mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[" ",(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h(),{src:"https://github.com/tashfiqul-islam/metro-station-finder/raw/master/public/assets/metro-station.png",alt:"Metro Station",width:24,height:24}),(0,s.jsx)("span",{className:"ml-2",children:" | "}),(0,s.jsxs)("p",{className:"ml-2 text-slate-900 dark:text-white text-base",children:[(0,s.jsx)("b",{children:"Nearest Metro Station:"})," ",(0,s.jsx)("span",{className:"font-normal",children:a.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center mt-5",children:[" ",(0,s.jsx)(h(),{src:"https://github.com/tashfiqul-islam/metro-station-finder/raw/master/public/assets/direction.png",alt:"Direction",width:24,height:24}),(0,s.jsx)("span",{className:"ml-2",children:" | "}),(0,s.jsxs)("p",{className:"ml-2 text-slate-900 dark:text-white text-base",children:[(0,s.jsx)("b",{children:"Distance from Location:"})," ",(0,s.jsxs)("span",{className:"font-normal",children:[l.toFixed(2)," ",r]})]})]})]})})})};function f(e){return Math.PI/180*e}var b=t(2091),p=t(1163),j=t(9008),w=t.n(j);let N=o()(()=>t.e(658).then(t.bind(t,9658)),{loadableGenerated:{webpack:()=>[9658]},ssr:!1});var y=()=>{let[e,a]=(0,n.useState)({lat:23.8103,lng:90.4125}),[t,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[d,m]=(0,n.useState)("km"),[u,j]=(0,n.useState)(""),y=(0,p.useRouter)(),v=async e=>{try{j(""),a(e);let t=function(e){let a=null,t=Number.MAX_VALUE;if(c.forEach(s=>{let r=function(e,a){let t=f(a.lat-e.lat),s=f(a.lng-e.lng),r=Math.sin(t/2)*Math.sin(t/2)+Math.cos(f(e.lat))*Math.cos(f(a.lat))*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371}(e,{lat:s.lat,lng:s.lng});r<t&&(t=r,a=s)}),!a)throw Error("No metro stations found");return a}(e);r(t)}catch(e){console.error("Error in search:",e),j("Failed to find the nearest metro station. Please try again.")}},[k,S]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{S(!0)},[]),(0,s.jsxs)("div",{style:{backgroundColor:"#121212"},className:"jsx-92bda33811af5ed8 flex flex-col min-h-screen",children:[(0,s.jsxs)(w(),{children:[(0,s.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png",className:"jsx-92bda33811af5ed8"}),(0,s.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png",className:"jsx-92bda33811af5ed8"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.png",className:"jsx-92bda33811af5ed8"})]}),(0,s.jsx)("div",{className:"jsx-92bda33811af5ed8 py-8 px-5"}),(0,s.jsxs)("div",{className:"jsx-92bda33811af5ed8 w-full text-center relative flex flex-col md:flex-row items-center justify-center",children:[(0,s.jsx)("div",{className:"jsx-92bda33811af5ed8 flex flex-col md:flex-row items-center justify-center",children:(0,s.jsxs)("div",{onClick:()=>{y.reload()},className:"jsx-92bda33811af5ed8 flex items-center cursor-pointer",children:[(0,s.jsx)(h(),{src:"/assets/logo.png",alt:"Metro Station Finder Logo",width:65,height:65}),(0,s.jsx)("div",{style:{width:"15px"},className:"jsx-92bda33811af5ed8"}),(0,s.jsx)("h1",{className:"jsx-92bda33811af5ed8 text-2xl font-bold text-white font-mono",children:"Metro Station Finder"})]})}),(0,s.jsxs)("div",{onClick:()=>{window.open("https://github.com/tashfiqul-islam/metro-station-finder","_blank")},style:{cursor:"pointer"},className:"jsx-92bda33811af5ed8 mt-2 md:mt-0 md:absolute md:right-20 md:top-4",children:[(0,s.jsx)(b.hJX,{size:24,className:"text-white hover:text-slate-400"})," "]})]}),(0,s.jsx)(l(),{id:"92bda33811af5ed8",children:"@media(max-width:640px){.flex.flex-col.md.jsx-92bda33811af5ed8:flex-row.items-center.justify-center>div.jsx-92bda33811af5ed8:first-child{margin-bottom:5px}}"}),(0,s.jsxs)("div",{className:"jsx-92bda33811af5ed8 flex-grow",children:[(0,s.jsxs)("header",{className:"jsx-92bda33811af5ed8 w-full max-w-lg mx-auto mt-12",children:[(0,s.jsx)(x,{onSearch:v}),u&&(0,s.jsx)("p",{className:"jsx-92bda33811af5ed8 text-red-600 text-center mt-2",children:u})]}),(0,s.jsx)("main",{className:"jsx-92bda33811af5ed8 w-full max-w-lg mx-auto mt-5",children:k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-92bda33811af5ed8 mb-4",children:(0,s.jsx)(N,{userLocation:e,metroStation:t,onDistanceCalculated:(e,a)=>{o(e),m(a)}})}),null!==i&&t&&(0,s.jsx)("div",{className:"jsx-92bda33811af5ed8 mt-10",children:(0,s.jsx)(g,{metroStation:t,distance:i,unit:d})})]})})]}),(0,s.jsx)("div",{className:"jsx-92bda33811af5ed8 w-full text-center py-5",children:(0,s.jsxs)("p",{className:"jsx-92bda33811af5ed8 text-slate-300 text-sm",children:["\xa9 2024 | v0.0.2 | Made with"," ",(0,s.jsx)("span",{className:"jsx-92bda33811af5ed8 text-red-500",children:"â™¥"})," by",(0,s.jsxs)("a",{href:"https://github.com/tashfiqul-islam",target:"_blank",rel:"noopener noreferrer",className:"jsx-92bda33811af5ed8 text-blue-500 hover:text-blue-700",children:[" ","Tashfiq"]})]})})]})}},9528:function(e,a,t){"use strict";t.d(a,{J:function(){return l}});let s=!1,r=!1,l=e=>new Promise((a,t)=>{if(s){a();return}let l=()=>{r?setTimeout(l,200):s?a():function(){r=!0;let l=document.createElement("script");l.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=places"),l.async=!0,l.defer=!0,document.head.appendChild(l),l.onload=()=>{s=!0,r=!1,a()},l.onerror=()=>{r=!1,t(Error("Google Maps API script failed to load."))}}()};l()})}},function(e){e.O(0,[365,662,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);