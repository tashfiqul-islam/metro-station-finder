"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{9658:function(e,t,a){a.r(t);var l=a(5893),n=a(7294),r=a(9528);let o=[{featureType:"all",stylers:[{saturation:0},{hue:"#e7ecf0"}]},{featureType:"road",stylers:[{saturation:-70}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{visibility:"simplified"},{saturation:-60}]}];t.default=e=>{let{userLocation:t,metroStation:a,onDistanceCalculated:s}=e,i=(0,n.useRef)(null),[p,c]=(0,n.useState)(),[g,u]=(0,n.useState)(null),d=(0,n.useCallback)(e=>e>=1e3?"km":"miles",[]);return(0,n.useEffect)(()=>{(0,r.J)("AIzaSyBudeCn3Zk00A18wJIAlPEXiIDlmJYFzH0").then(()=>{c(new google.maps.Map(i.current,{center:{lat:23.8103,lng:90.4125},zoom:12,styles:o,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,keyboardShortcuts:!1}))}).catch(e=>{console.error("Error loading Google Maps:",e),u("Error loading Google Maps")})},[]),(0,n.useEffect)(()=>{if(!p||!t||!a)return;let e=new google.maps.DirectionsService,l=new google.maps.DirectionsRenderer;l.setMap(p);let n=new google.maps.Marker({position:t,map:p,title:"Your Location"}),r=new google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:p,title:"Nearest Metro Station"}),o={origin:t,destination:{lat:a.lat,lng:a.lng},travelMode:google.maps.TravelMode.WALKING};return e.route(o,(e,n)=>{if(n===google.maps.DirectionsStatus.OK){l.setDirections(e);let n=google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(t),new google.maps.LatLng({lat:a.lat,lng:a.lng})),r=d(n);s(n,r)}else console.error("Directions request failed due to",n),u("Unable to find directions. Please try again.")}),()=>{n.setMap(null),r.setMap(null),l.setMap(null),e.route(o,void 0),l.setDirections(null)}},[p,t,a,d,s]),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{ref:i,className:"w-full h-96 mt-5 border border-gray-500 rounded-lg map-container",id:"map",style:{height:"450px"}}),g&&(0,l.jsx)("p",{className:"text-red-600 text-center mt-2",children:g}),(0,l.jsxs)("style",{children:["\n@media (min-width: 768px) {\n  .map-container {\n    width: calc(225%);\n  }\n}\n","\n@media (max-width: 767px) {\n  .map-container {\n    width: calc(100% - 30px); /* 5px padding on each side */\n    margin: 0 30px; /* Add margin to center the map */\n  }\n}\n"]})]})}}}]);